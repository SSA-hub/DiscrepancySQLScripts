create table Country (
  country_id serial primary key,
  name varchar(80) not null unique
);

create table Championship (
  championship_id serial primary key,
  country_id integer references Country(country_id),
  name varchar(80) not null,
  UNIQUE (country_id, name)
);

create table Season (
  season_id serial primary key,
  championship_id integer references Championship(championship_id),
  start date,
  end date,
  UNIQUE (championship_id, start, end)
);

create table SeasonTeams (
  season_id integer references Season(season_id),
  team_id integer references Team(team_id),
  UNIQUE (season_id, team_id)
);

create table Team (
  team_id serial primary key,
  country_id integer references Country(country_id),
  name varchar(80) not null unique
);

create table MatchStatuses (
  status_id serial primary key,
  name text not null unique
  --not started, in progress, finished
  --postponed, cancelled, interrupted, over time, penalty, half time, about to start, VAR
);

create table Match (
  match_id serial primary key,
  teamH integer references Team(team_id),
  teamA integer references Team(team_id),
  status integer references MatchStatuses(status_id),
  start DateTime,
  realStart DateTime,
  UNIQUE (teamH, teamA, start)
);

create table LineType (
  type_id serial primary key,
  type_name varchar(80) not null unique
);

create table Line (
  line_id bigserial primary key,
  match_id integer references Match(match_id),
  line_type integer references LineType(type_id),
  load_time DateTime,
  coefficient numeric
);
